{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(query) {\n    const URL = \"https://pixabay.com/api/\";\n    const API_KEY = \"45306533-f7c4428500ee3898e492b2a2f\";\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n      });\n          return fetch(`${URL}?${params}`).then((response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n  }\n\n","\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport \"../css/styles.css\";\n\n\nconst gallery = document.querySelector('ul.gallery-list');\nconst galleryModal = new SimpleLightbox('ul.js-gallery a', {\n  className: 'js-lightbox',\n  overlayOpacity: 0.8,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function applySpanClasses(spanElement) {\n  spanElement.classList.add('.loader');\n}\n\nexport function removeSpanClasses(spanElement) {\n  spanElement.classList.remove('.loader');\n}\n\n\nexport function renderGallery(mpdata) {\n  const markup = mpdata\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n\t<a class=\"gallery-link\" href=\"${largeImageURL}\">\n\t\t<img\n\t\t\tclass=\"gallery-image\"\n\t\t\tsrc=\"${webformatURL}\"\n\t\t\talt=\"${tags}\"\n\t\t\t/>\n    <div class=\"image-stats\">\n  <p>Likes\n${likes}</p>\n  <p> Views ${views}</p>\n  <p>Comments ${comments}</P>\n  <p>Dowloads ${downloads}</P>\n</div>\n\t</a>\n</li>`\n    )\n    .join('');\n  gallery.innerHTML = markup;\n  galleryModal.refresh();\n};\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport {getImages} from \"../src/js/pixabay-api\";\nimport {renderGallery} from \"../src/js/render-functions\";\n\nimport {applySpanClasses, removeSpanClasses} from \"../src/js/render-functions\";\n\n// import iconError from './img/error.svg';\n\n\nconst spanElement = document.querySelector('.loader');\n// applySpanClasses(spanElement);\n// removeSpanClasses(spanElement);\n\n\nconst searchForm = document.querySelector('.js-form');\nconst ulGallery = document.querySelector('.js-gallery');\n// console.log(spanStatus);\n\n\nsearchForm.addEventListener('submit', getGallery);\n\n\n\n\nfunction getGallery(event) {\n  \n  event.preventDefault();\n  \n  ulGallery.innerHTML = '';\n  removeSpanClasses(spanElement);\n \n  \n\n  const searchText = event.target.elements.search.value.trim().toLowerCase();\n  // console.log(searchText);\n\n\n\n\n\n  if (searchText === \"\") {\n              iziToast.error({\n            message:\n              'The field cannot be empty!',\n            position: 'topRight',\n            timeout: 2000,\n            icon: '',\n          });\n\n  } else {\n        getImages(searchText)\n      .then(response => {\n        if (response.hits.length === 0) {\n          iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            timeout: 2000,\n            icon: '',\n          });\n        }\n        renderGallery(response.hits);\n        applySpanClasses(spanElement);\n        \n\n      })\n\n      .catch(error => console.log(error))\n      .finally(() => {\n        event.target.reset();\n        removeSpanClasses(spanElement);\n      });\n  }};\n\n\n\n\n"],"names":["getImages","query","URL","API_KEY","params","response","gallery","galleryModal","SimpleLightbox","applySpanClasses","spanElement","removeSpanClasses","renderGallery","mpdata","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","ulGallery","getGallery","event","searchText","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAUC,EAAO,CAC7B,MAAMC,EAAM,2BACNC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAO,EACG,OAAO,MAAM,GAAGC,CAAG,IAAIE,CAAM,EAAE,EAAE,KAAMC,GAAa,CACxD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,CACL,CCTA,MAAMC,EAAU,SAAS,cAAc,iBAAiB,EAClDC,EAAe,IAAIC,EAAe,kBAAmB,CACzD,UAAW,cACX,eAAgB,GAChB,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAiBC,EAAa,CAC5CA,EAAY,UAAU,IAAI,SAAS,CACrC,CAEO,SAASC,EAAkBD,EAAa,CAC7CA,EAAY,UAAU,OAAO,SAAS,CACxC,CAGO,SAASE,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,iCACqBL,CAAa;AAAA;AAAA;AAAA,UAGpCD,CAAY;AAAA,UACZE,CAAI;AAAA;AAAA;AAAA;AAAA,EAIZC,CAAK;AAAA,cACOC,CAAK;AAAA,gBACHC,CAAQ;AAAA,gBACRC,CAAS;AAAA;AAAA;AAAA,MAIpB,EACA,KAAK,EAAE,EACVf,EAAQ,UAAYQ,EACpBP,EAAa,QAAO,CACtB,CC5CA,MAAMG,EAAc,SAAS,cAAc,SAAS,EAK9CY,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAY,SAAS,cAAc,aAAa,EAItDD,EAAW,iBAAiB,SAAUE,CAAU,EAKhD,SAASA,EAAWC,EAAO,CAEzBA,EAAM,eAAc,EAEpBF,EAAU,UAAY,GACtBZ,EAAkBD,CAAW,EAI7B,MAAMgB,EAAaD,EAAM,OAAO,SAAS,OAAO,MAAM,OAAO,cAOzDC,IAAe,GACPC,EAAS,MAAM,CACjB,QACE,6BACF,SAAU,WACV,QAAS,IACT,KAAM,EAClB,CAAW,EAGH3B,EAAU0B,CAAU,EACrB,KAAKrB,GAAY,CACZA,EAAS,KAAK,SAAW,GAC3BsB,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,QAAS,IACT,KAAM,EAClB,CAAW,EAEHf,EAAcP,EAAS,IAAI,EAC3BI,EAAiBC,CAAW,CAGpC,CAAO,EAEA,MAAMkB,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbH,EAAM,OAAO,QACbd,EAAkBD,CAAW,CACrC,CAAO,CACJ"}