{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/nok.svg","../src/main.js"],"sourcesContent":["export function getImages(query) {\n    const URL = \"https://pixabay.com/api/\";\n    const API_KEY = \"45306533-f7c4428500ee3898e492b2a2f\";\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n      });\n          return fetch(`${URL}?${params}`).then((response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n  }\n\n","\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport \"../css/styles.css\";\n\nconst gallery = document.querySelector('ul.gallery-list');\nconst galleryModal = new SimpleLightbox('ul.js-gallery a', {\n  className: 'js-lightbox',\n  overlayOpacity: 0.8,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function renderGallery(mpdata) {\n  const markup = mpdata\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n\t<a class=\"gallery-link\" href=\"${largeImageURL}\">\n\t\t<img\n\t\t\tclass=\"gallery-image\"\n\t\t\tsrc=\"${webformatURL}\"\n\t\t\talt=\"${tags}\"\n\t\t\t/>\n    <div class=\"image-stats\">\n  <p>Likes\n${likes}</p>\n  <p> Views<br>${views}</p>\n  <p>Comments<br>${comments}</P>\n  <p>Dowloads<br>${downloads}</P>\n</div>\n\t</a>\n</li>`\n    )\n    .join('');\n  gallery.innerHTML = markup;\n  galleryModal.refresh();\n};\n","export default \"__VITE_ASSET__41304632__\"","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport {getImages} from \"./js/pixabay-api\";\nimport {renderGallery} from \"./js/render-functions\";\n\nimport iconError from './img/nok.svg';\n\n\nconst loader = document.querySelector('.loader');\nconst searchForm = document.querySelector('.js-form');\nconst ulGallery = document.querySelector('.js-gallery');\n\nsearchForm.addEventListener('submit', getGallery);\n\nfunction getGallery(event) {\n  \n  event.preventDefault(); \n  ulGallery.innerHTML = '';\n  loader.classList.remove('hidden');\n \n  const searchText = event.target.elements.search.value.trim().toLowerCase();\n  \n  if (searchText === \"\") {\n            iziToast.error({\n            message:'The field cannot be empty!',\n            position: 'topRight',\n            title: 'Error',\n            titleColor: '#fff',\n            messageColor: '#fff',\n            backgroundColor: '#ef4040',\n            timeout: 2000,\n            iconUrl: iconError,\n            });\n            loader.classList.add('hidden');\n          \n  } else {\n      getImages(searchText)\n      .then(response => {\n        if (response.hits.length === 0) {\n          iziToast.error({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            title: 'Error',\n            titleColor: '#fff',\n            messageColor: '#fff',\n            backgroundColor: '#ef4040',\n            timeout: 2000,\n            iconUrl: iconError,\n          });\n        }\n        renderGallery(response.hits);\n        loader.classList.remove('hidden');\n      })\n\n      .catch(error => console.log(error))\n      .finally(() => {\n        event.target.reset();\n        loader.classList.add('hidden');\n      });\n  }};\n\n\n\n\n"],"names":["getImages","query","URL","API_KEY","params","response","gallery","galleryModal","SimpleLightbox","renderGallery","mpdata","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","iconError","loader","searchForm","ulGallery","getGallery","event","searchText","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAUC,EAAO,CAC7B,MAAMC,EAAM,2BACNC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAO,EACG,OAAO,MAAM,GAAGC,CAAG,IAAIE,CAAM,EAAE,EAAE,KAAMC,GAAa,CACxD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,CACL,CCXA,MAAMC,EAAU,SAAS,cAAc,iBAAiB,EAClDC,EAAe,IAAIC,EAAe,kBAAmB,CACzD,UAAW,cACX,eAAgB,GAChB,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,iCACqBL,CAAa;AAAA;AAAA;AAAA,UAGpCD,CAAY;AAAA,UACZE,CAAI;AAAA;AAAA;AAAA;AAAA,EAIZC,CAAK;AAAA,iBACUC,CAAK;AAAA,mBACHC,CAAQ;AAAA,mBACRC,CAAS;AAAA;AAAA;AAAA,MAIvB,EACA,KAAK,EAAE,EACVZ,EAAQ,UAAYK,EACpBJ,EAAa,QAAO,CACtB,CC5CA,MAAeY,EAAA,yCCQTC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAY,SAAS,cAAc,aAAa,EAEtDD,EAAW,iBAAiB,SAAUE,CAAU,EAEhD,SAASA,EAAWC,EAAO,CAEzBA,EAAM,eAAc,EACpBF,EAAU,UAAY,GACtBF,EAAO,UAAU,OAAO,QAAQ,EAEhC,MAAMK,EAAaD,EAAM,OAAO,SAAS,OAAO,MAAM,OAAO,cAEzDC,IAAe,IACTC,EAAS,MAAM,CACf,QAAQ,6BACR,SAAU,WACV,MAAO,QACP,WAAY,OACZ,aAAc,OACd,gBAAiB,UACjB,QAAS,IACT,QAASP,CACrB,CAAa,EACDC,EAAO,UAAU,IAAI,QAAQ,GAGnCpB,EAAUyB,CAAU,EACnB,KAAKpB,GAAY,CACZA,EAAS,KAAK,SAAW,GAC3BqB,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,WACV,MAAO,QACP,WAAY,OACZ,aAAc,OACd,gBAAiB,UACjB,QAAS,IACT,QAASP,CACrB,CAAW,EAEHV,EAAcJ,EAAS,IAAI,EAC3Be,EAAO,UAAU,OAAO,QAAQ,CACxC,CAAO,EAEA,MAAMO,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbH,EAAM,OAAO,QACbJ,EAAO,UAAU,IAAI,QAAQ,CACrC,CAAO,CACJ"}